Module("reference/src-gen/nabl2/collection/analysis/minijava",[Imports([ImportWildcard("signatures/nabl2/shared"),ImportWildcard("signatures/nabl2/shared/common"),ImportWildcard("signatures/nabl2/shared/constraints"),ImportWildcard("nabl2/shared"),ImportWildcard("signatures/nabl2/runtime"),ImportWildcard("signatures/nabl2/runtime/analysis"),ImportWildcard("signatures/nabl2/runtime/common"),ImportWildcard("nabl2/runtime"),ImportWildcard("nabl2/runtime/analysis"),ImportWildcard("nabl2/runtime/prelude"),ImportWildcard("nabl2/runtime/stdlib")]),Rules([SDefNoArgs("nabl2--custom-labels",Build(NoAnnoList(List([NoAnnoList(Op("Label",[NoAnnoList(Str("\"S\""))])),NoAnnoList(Op("P",[])),NoAnnoList(Op("I",[]))])))),SDefNoArgs("nabl2--custom-label-order",Build(NoAnnoList(List([NoAnnoList(Tuple([NoAnnoList(Op("Label",[NoAnnoList(Str("\"S\""))])),NoAnnoList(Op("I",[]))])),NoAnnoList(Tuple([NoAnnoList(Op("Label",[NoAnnoList(Str("\"S\""))])),NoAnnoList(Op("P",[]))])),NoAnnoList(Tuple([NoAnnoList(Op("I",[])),NoAnnoList(Op("P",[]))])),NoAnnoList(Tuple([NoAnnoList(Op("D",[])),NoAnnoList(Op("Label",[NoAnnoList(Str("\"S\""))]))]))])))),SDefNoArgs("nabl2--custom-labels-wf",Build(NoAnnoList(Op("Concat",[NoAnnoList(Op("Closure",[NoAnnoList(Op("P",[]))])),NoAnnoList(Op("Concat",[NoAnnoList(Op("Or",[NoAnnoList(Op("Epsilon",[])),NoAnnoList(Op("Concat",[NoAnnoList(Op("Label",[NoAnnoList(Str("\"S\""))])),NoAnnoList(Op("I",[]))]))])),NoAnnoList(Op("Closure",[NoAnnoList(Op("I",[]))]))]))]))))]),Rules([]),Rules([]),Imports([ImportWildcard("signatures"),ImportWildcard("reference/src-gen/nabl2/collection/analysis")]),Signature([Constructors([OpDecl("Int",ConstType(SortNoArgs("Type"))),OpDecl("Bool",ConstType(SortNoArgs("Type"))),OpDecl("IntArray",ConstType(SortNoArgs("Type"))),OpDecl("MainType",ConstType(SortNoArgs("Type"))),OpDecl("ClassType",FunType([ConstType(SortNoArgs("Occurrence"))],ConstType(SortNoArgs("Type")))),OpDecl("MethodType",FunType([ConstType(SortNoArgs("Type")),ConstType(SortNoArgs("Type"))],ConstType(SortNoArgs("Type")))),OpDecl("Local",ConstType(SortNoArgs("Origin"))),OpDecl("Field",ConstType(SortNoArgs("Origin"))),OpDecl("Param",ConstType(SortNoArgs("Origin"))),OpDecl("This",ConstType(SortNoArgs("This")))])]),Rules([SDefT("prettyprint-minijava",[],[DefaultVarDec("sort")],CallT(SVar("prettyprint-NaBL2-api-term"),[],[Var("sort")])),SDefT("prettyprint-minijava-NaBL2Scope",[],[],CallNoArgs(SVar("prettyprint-NaBL2-api-term"))),SDefT("prettyprint-minijava-NaBL2Occurrence",[],[],CallNoArgs(SVar("prettyprint-NaBL2-api-term"))),RDefT("nabl2--generate-constraint-init-rule",[],[],Rule(NoAnnoList(Tuple([Var("nabl2_source"),As(Var("term46"),Var("wld1"))])),NoAnnoList(Tuple([Var("args33"),Var("constraint27")])),[WithClause(Seq(Assign(Var("s"),App(CallT(SVar("nabl2--fresh-var"),[],[Var("nabl2_source")]),NoAnnoList(Str("\"s\"")))),Id)),WithClause(Assign(Var("args33"),NoAnnoList(Op("Params",[NoAnnoList(Tuple([Var("s")]))])))),WithClause(Assign(Var("constraint27"),NoAnnoList(Op("CNew",[NoAnnoList(List([Var("s")])),App(CallNoArgs(SVar("nabl2--get-ast-index")),Var("term46"))])))),WithClause(IfThen(CallNoArgs(SVar("nabl2--is-debug-collection-enabled")),CallT(SVar("nabl2--collection-info-msg"),[],[App(CallNoArgs(SVar("concat-strings")),NoAnnoList(List([NoAnnoList(Str("\"init ^ \"")),App(CallNoArgs(SVar("pp-NaBL2-CTerm")),NoAnnoList(Tuple([Var("s")])))])))])))])),RDefT("nabl2--generate-constraint-default-rule",[],[],Rule(NoAnnoList(Tuple([Var("nabl2_source"),As(Var("term47"),NoAnnoList(Op("Program",[Var("mc"),Var("cc")]))),Var("args34")])),Var("constraint28"),[WithClause(Id),WithClause(LChoice(Assign(NoAnnoList(Op("Params",[As(Var("params39"),NoAnnoList(Tuple([Var("s")])))])),Var("args34")),CallT(SVar("fatal-err"),[],[App(CallNoArgs(SVar("concat-strings")),NoAnnoList(List([NoAnnoList(Str("\"Cannot match expected \"")),NoAnnoList(Str("\"^ (s)\"")),NoAnnoList(Str("\" with actual \"")),App(CallNoArgs(SVar("nabl2--pp-flat-args")),Var("args34")),NoAnnoList(Str("\" when matching \"")),NoAnnoList(Str("\"Program(mc, cc)\"")),NoAnnoList(Str("\" with \"")),App(CallNoArgs(SVar("pp-NaBL2-Term")),Var("term47")),NoAnnoList(Str("\".\""))])))]))),WithClause(IfThen(CallNoArgs(SVar("nabl2--is-debug-collection-enabled")),CallT(SVar("nabl2--collection-info-msg"),[],[App(CallNoArgs(SVar("concat-strings")),NoAnnoList(List([NoAnnoList(Str("\"default\"")),NoAnnoList(Str("\" [[ \"")),App(CallNoArgs(SVar("pp-NaBL2-Term")),Var("term47")),NoAnnoList(Str("\" ^ \"")),App(CallNoArgs(SVar("pp-NaBL2-CTerm")),Var("params39")),NoAnnoList(Str("\" ]]\""))])))]))),WithClause(Assign(Var("constraint28"),NoAnnoList(Op("CConj",[NoAnnoList(Op("CAstProperty",[App(CallNoArgs(SVar("nabl2--get-ast-index")),Var("term47")),NoAnnoList(Op("Params",[])),NoAnnoList(Tuple([Var("s")]))])),NoAnnoList(Op("CConj",[NoAnnoList(Op("CDistinct",[NoAnnoList(Op("Projection",[NoAnnoList(Str("\"name\""))])),NoAnnoList(Op("Declarations",[Var("s"),NoAnnoList(Op("Namespace",[NoAnnoList(Str("\"Class\""))]))])),NoAnnoList(Op("Message",[NoAnnoList(Op("Error",[])),NoAnnoList(Str("\"Duplicate class\"")),NoAnnoList(Op("NAME",[]))]))])),NoAnnoList(Op("CConj",[App(CallT(SVar("nabl2--generate-constraint"),[CallNoArgs(SVar("nabl2--generate-constraint-default-rule"))],[NoAnnoList(Str("\"default\""))]),NoAnnoList(Tuple([Var("nabl2_source"),Var("mc"),NoAnnoList(Op("Params",[NoAnnoList(Tuple([Var("s")]))]))]))),App(CallT(SVar("nabl2--generate-constraint"),[CallNoArgs(SVar("nabl2--generate-constraint-Map1-rule"))],[NoAnnoList(Str("\"Map1\""))]),NoAnnoList(Tuple([Var("nabl2_source"),Var("cc"),NoAnnoList(Op("Params",[NoAnnoList(Tuple([Var("s")]))]))])))]))]))]))))])),RDefT("nabl2--generate-constraint-default-rule",[],[],Rule(NoAnnoList(Tuple([Var("nabl2_source"),As(Var("term48"),NoAnnoList(Op("MainClass",[Var("x"),Var("wld1"),Var("st")]))),Var("args35")])),Var("constraint29"),[WithClause(Id),WithClause(LChoice(Assign(NoAnnoList(Op("Params",[As(Var("params40"),NoAnnoList(Tuple([Var("s")])))])),Var("args35")),CallT(SVar("fatal-err"),[],[App(CallNoArgs(SVar("concat-strings")),NoAnnoList(List([NoAnnoList(Str("\"Cannot match expected \"")),NoAnnoList(Str("\"^ (s)\"")),NoAnnoList(Str("\" with actual \"")),App(CallNoArgs(SVar("nabl2--pp-flat-args")),Var("args35")),NoAnnoList(Str("\" when matching \"")),NoAnnoList(Str("\"MainClass(x, wld1, st)\"")),NoAnnoList(Str("\" with \"")),App(CallNoArgs(SVar("pp-NaBL2-Term")),Var("term48")),NoAnnoList(Str("\".\""))])))]))),WithClause(IfThen(CallNoArgs(SVar("nabl2--is-debug-collection-enabled")),CallT(SVar("nabl2--collection-info-msg"),[],[App(CallNoArgs(SVar("concat-strings")),NoAnnoList(List([NoAnnoList(Str("\"default\"")),NoAnnoList(Str("\" [[ \"")),App(CallNoArgs(SVar("pp-NaBL2-Term")),Var("term48")),NoAnnoList(Str("\" ^ \"")),App(CallNoArgs(SVar("pp-NaBL2-CTerm")),Var("params40")),NoAnnoList(Str("\" ]]\""))])))]))),WithClause(Assign(Var("constraint29"),NoAnnoList(Op("CConj",[NoAnnoList(Op("CAstProperty",[App(CallNoArgs(SVar("nabl2--get-ast-index")),Var("term48")),NoAnnoList(Op("Params",[])),NoAnnoList(Tuple([Var("s")]))])),NoAnnoList(Op("CConj",[NoAnnoList(Op("CGDecl",[NoAnnoList(Op("Occurrence",[NoAnnoList(Op("Namespace",[NoAnnoList(Str("\"Class\""))])),Var("x"),App(CallNoArgs(SVar("nabl2--occurrence-index-of")),Var("x"))])),Var("s"),App(CallNoArgs(SVar("nabl2--get-ast-index")),Var("term48"))])),NoAnnoList(Op("CConj",[NoAnnoList(Op("CDeclProperty",[NoAnnoList(Op("Occurrence",[NoAnnoList(Op("Namespace",[NoAnnoList(Str("\"Class\""))])),Var("x"),App(CallNoArgs(SVar("nabl2--occurrence-index-of")),Var("x"))])),NoAnnoList(Op("Type",[])),NoAnnoList(Op("MainType",[])),NoAnnoList(Str("\"\"")),NoAnnoList(Op("Message",[NoAnnoList(Op("Error",[])),NoAnnoList(Op("Default",[])),App(CallNoArgs(SVar("nabl2--get-ast-index")),Var("term48"))]))])),App(CallT(SVar("nabl2--generate-constraint"),[CallNoArgs(SVar("nabl2--generate-constraint-default-rule"))],[NoAnnoList(Str("\"default\""))]),NoAnnoList(Tuple([Var("nabl2_source"),Var("st"),NoAnnoList(Op("Params",[NoAnnoList(Tuple([Var("s")]))]))])))]))]))]))))]))])])
